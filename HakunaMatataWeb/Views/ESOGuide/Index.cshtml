@model IEnumerable<HakunaMatataWeb.Models.ESOGuides.ESOGuideViewModel>
@using HakunaMatataWeb.Services.Extensions
<!DOCTYPE html>

<html>
<head>
	<meta name="viewport" content="width=device-width" />
	<title>Index</title>
</head>
<body>
	@if (User.GetClaimValueInt<HakunaMatataWeb.Data.Enums.GuildRank>() > 2)
	{
		@Html.ActionLink("Create New", "Create", null, new { @class = "btn btn-success" })
	}

	<table class="table">
		<tr>
			<th>
				@Html.DisplayNameFor(model => model.GuideType)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Title)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.SubTitle)
			</th>
			@*<th>
					@Html.DisplayNameFor(model => model.Content)
				</th>*@
			<th>
				@Html.DisplayNameFor(model => model.Author)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.CreationDate)
			</th>
			@*<th>
					@Html.DisplayNameFor(model => model.LastUpdatedDate)
				</th>*@
			@*<th>
					@Html.DisplayNameFor(model => model.AuthorId)
				</th>*@
			<th></th>
		</tr>

		@foreach (var item in Model)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.GuideType)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Title)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.SubTitle)
				</td>
				@*<td>
						@Html.DisplayFor(modelItem => item.Content)
					</td>*@
				<td>
					@Html.DisplayFor(modelItem => item.Author)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.CreationDate)
				</td>
				@*<td>
						@Html.DisplayFor(modelItem => item.LastUpdatedDate)
					</td>*@
				@*<td>
						@Html.DisplayFor(modelItem => item.AuthorId)
					</td>*@
				@if (User.GetClaimValueInt<HakunaMatataWeb.Data.Enums.GuildRank>() > 2)
				{
					<td>
						@Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
						@Html.ActionLink("Details", "Details", new { id = item.Id }) |
						@Html.ActionLink("Delete", "Delete", new { id = item.Id })
					</td>
				}
				else
				{
					<td>
						@Html.ActionLink("Details", "Details", new { id = item.Id })
					</td>
				}
			</tr>
		}
	</table>
</body>
</html>